<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Wed Apr 12 10:45:15 EDT 2017 -->
<title>Controller</title>
<meta name="date" content="2017-04-12">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Controller";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Controller.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?controller/Controller.html" target="_top">Frames</a></li>
<li><a href="Controller.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">controller</div>
<h2 title="Class Controller" class="title">Class Controller</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>controller.Controller</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Controller</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../networking/NetworkHandler.html" title="class in networking">NetworkHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#network">network</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#running">running</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../session/Session.html" title="class in session">Session</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#session">session</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../controller/Controller.html#Controller-session.Session-">Controller</a></span>(<a href="../session/Session.html" title="class in session">Session</a>&nbsp;session)</code>
<div class="block">Creates a new Controller linked to the specified Session</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#append-byte:A-byte:A-">append</a></span>(byte[]&nbsp;data,
      byte[]&nbsp;addition)</code>
<div class="block">A private method that appends a byte array to the end of another byte
 array.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#append-byte:A-java.lang.String-">append</a></span>(byte[]&nbsp;data,
      java.lang.String&nbsp;addition)</code>
<div class="block">A private method that appends a String to the end of a byte array.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#getDynamicData-byte:A-int-">getDynamicData</a></span>(byte[]&nbsp;data,
              int&nbsp;start)</code>
<div class="block">Retrieves a given data from byte array where the start index is the size
 of the string to be received</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#handshakeRequest-byte:A-java.lang.String-">handshakeRequest</a></span>(byte[]&nbsp;inFromClient,
                java.lang.String&nbsp;IP)</code>
<div class="block">CLIENT COMMAND - A client has requested a handshake with the server and
 is expecting a reply from the server.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#mediaPing-byte:A-">mediaPing</a></span>(byte[]&nbsp;inFromClient)</code>
<div class="block">CLIENT COMMAND - A Client is pinging for new media if there is any.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#mediaRequest-byte:A-">mediaRequest</a></span>(byte[]&nbsp;inFromClient)</code>
<div class="block">CLIENT COMMAND - A client is requesting a certain packet of the loaded
 media in the linked session.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#parseNetworkCommand-java.net.DatagramPacket-">parseNetworkCommand</a></span>(java.net.DatagramPacket&nbsp;inFromClient)</code>
<div class="block">CLIENT COMMAND CONTROL POINT - This method is called directly from the
 NetworkHandler.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#start--">start</a></span>()</code>
<div class="block">Starts a new NetworkHandler to start listening for incoming Clients.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#stop--">stop</a></span>()</code>
<div class="block">Stops the NetworkHandler from listening to client packets.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../controller/Controller.html#vote-byte:A-">vote</a></span>(byte[]&nbsp;inFromClient)</code>
<div class="block">CLIENT COMMAND - A client has sent a vote packet to be parsed by the
 server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="network">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>network</h4>
<pre>private&nbsp;<a href="../networking/NetworkHandler.html" title="class in networking">NetworkHandler</a> network</pre>
</li>
</ul>
<a name="session">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>session</h4>
<pre>private&nbsp;<a href="../session/Session.html" title="class in session">Session</a> session</pre>
</li>
</ul>
<a name="running">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>running</h4>
<pre>private&nbsp;boolean running</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Controller-session.Session-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Controller</h4>
<pre>public&nbsp;Controller(<a href="../session/Session.html" title="class in session">Session</a>&nbsp;session)</pre>
<div class="block">Creates a new Controller linked to the specified Session</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - - The session to which this controller will be passing
            commands into</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws java.net.SocketException</pre>
<div class="block">Starts a new NetworkHandler to start listening for incoming Clients. Does
 this on a new thread and specifies the Controller as running.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.SocketException</code> - - If the port 9876 is already in use</dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()
          throws java.lang.IllegalArgumentException</pre>
<div class="block">Stops the NetworkHandler from listening to client packets.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - - If the controller is not running</dd>
</dl>
</li>
</ul>
<a name="handshakeRequest-byte:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handshakeRequest</h4>
<pre>protected&nbsp;byte[]&nbsp;handshakeRequest(byte[]&nbsp;inFromClient,
                                  java.lang.String&nbsp;IP)</pre>
<div class="block">CLIENT COMMAND - A client has requested a handshake with the server and
 is expecting a reply from the server. The server will confirm the byte
 array is valid, confirm the ID is valid, and then add the new ID to the
 session. It then replies with the format of 'R' for handshake response, a
 byte for the length of the session ID, and then the session ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inFromClient</code> - - {'R' (1), IDlength (1), ID (x)}</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- The returning packet as {'R' (1), IDLength (1), ID (x)}</dd>
</dl>
</li>
</ul>
<a name="vote-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vote</h4>
<pre>protected&nbsp;byte[]&nbsp;vote(byte[]&nbsp;inFromClient)</pre>
<div class="block">CLIENT COMMAND - A client has sent a vote packet to be parsed by the
 server. First it confirms it as a valid packet, then gets the ID and Vote
 Number. It then attempts to add the vote. If the new voteNum is less than
 a previous one, it will reject it. Prints the status of the vote and then
 returns a packet 'V' for Vote, 'R' for Response, and voteNum for the
 accepted Vote Number.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inFromClient</code> - {'V' (1), IDlength (1), ID (x), voteNumber (1), Votelength
            (1), Vote (x)}</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- The returning packet as {'V' (1), 'R' (1), voteNum (1)}</dd>
</dl>
</li>
</ul>
<a name="mediaPing-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mediaPing</h4>
<pre>protected&nbsp;byte[]&nbsp;mediaPing(byte[]&nbsp;inFromClient)</pre>
<div class="block">CLIENT COMMAND - A Client is pinging for new media if there is any.
 Checks to make sure there is an image, then replies with 'M' for Media,
 'P' for Ping, the imageID, the packet count, and then the image size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inFromClient</code> - {'M' (1), 'P' (1)}</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- The return packet as {'M' (1), 'P' (1), imgID (1), packetCount
         (4), imageSize (4)}</dd>
</dl>
</li>
</ul>
<a name="mediaRequest-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mediaRequest</h4>
<pre>protected&nbsp;byte[]&nbsp;mediaRequest(byte[]&nbsp;inFromClient)</pre>
<div class="block">CLIENT COMMAND - A client is requesting a certain packet of the loaded
 media in the linked session. It gets the image ID they want and then gets
 the packet they want. It saves the payload the byte array along with the
 size of the payload before shipping it out. It starts with 'M' for Media
 and 'R' for response. It fails if they request a packet outside of the
 range.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inFromClient</code> - {'M' (1), 'R' (1), imageID (1), packet# (1)}</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- The return packet as {'M' (1), 'R' (1), imageID (1),
         packetNumber (4), payloadLength (4), payload (x)}</dd>
</dl>
</li>
</ul>
<a name="parseNetworkCommand-java.net.DatagramPacket-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseNetworkCommand</h4>
<pre>public&nbsp;byte[]&nbsp;parseNetworkCommand(java.net.DatagramPacket&nbsp;inFromClient)</pre>
<div class="block">CLIENT COMMAND CONTROL POINT - This method is called directly from the
 NetworkHandler. It takes in the byte array and then figures out what the
 client was doing whether it was Handshaking (R), Voting (V), Media
 Pinging (MP), or Media Requesting (MR). It then replies with the proper
 byte array from each of the called methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - - the byte array coming from the client.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- the byte array to be returned based on the initial command</dd>
</dl>
</li>
</ul>
<a name="append-byte:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>private&nbsp;byte[]&nbsp;append(byte[]&nbsp;data,
                      java.lang.String&nbsp;addition)</pre>
<div class="block">A private method that appends a String to the end of a byte array. It
 makes a new byte array of full length, copies the first to the start,
 then adds the each char, before returning.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - - First byte array</dd>
<dd><code>addition</code> - - String to be added</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- A single byte array with the initial byte array in the lead,
         the string as characters following.</dd>
</dl>
</li>
</ul>
<a name="append-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>private&nbsp;byte[]&nbsp;append(byte[]&nbsp;data,
                      byte[]&nbsp;addition)</pre>
<div class="block">A private method that appends a byte array to the end of another byte
 array. Does so by making a new array of full size, copies the first array
 in one at a time. Follows with the second. Returns the combined array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - - first byte array</dd>
<dd><code>addition</code> - - second byte array</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- A single byte array with the first array leading, the second
         follows.</dd>
</dl>
</li>
</ul>
<a name="getDynamicData-byte:A-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDynamicData</h4>
<pre>private&nbsp;java.lang.String&nbsp;getDynamicData(byte[]&nbsp;data,
                                        int&nbsp;start)</pre>
<div class="block">Retrieves a given data from byte array where the start index is the size
 of the string to be received</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - - the byte[] array containing the information</dd>
<dd><code>start</code> - - the index with the allocated size, start + 1 is where the
            string begins</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- The String of retrieved data.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Controller.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?controller/Controller.html" target="_top">Frames</a></li>
<li><a href="Controller.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
